<div mat-dialog-title class="modal-header">
  <div class="modal-title">
    {{"person.replacement"|translate}}- {{"destinationTour"|translate}}
  </div>
</div>
<div class="modal-body" dir="rtl" [style.width.px]="700" [style.height.px]="450">
  <form>
    <mat-horizontal-stepper #stepper [linear]="false">
      <mat-step label="{{'steps'|translate:({value:'first'|translate})}}" [style.height.px]="450">
        <div fxLayout="row">
          <mat-form-field fxFlex>
            <mat-chip-list>
              <mat-chip *ngFor="let passenger of selectedPassengers">
                {{passenger.person.name}} {{passenger.person.family}}
              </mat-chip>
            </mat-chip-list>
          </mat-form-field>
        </div>
        <div fxLayout="row">
          <mat-form-field class="example-full-width" fxFlex>
            <input matInput="search-local" placeholder="destinationTourFilter" #searchContent (keyup)="onFilterTextBoxChanged(searchContent)">
          </mat-form-field>
        </div>
        <div fxLayout="row" [style.height.px]="200">
          <ag-grid-angular style="width:100%;height:100%;" class="ag-theme-material" [columnDefs]="tourGridService.columnDefs" [enableSorting]="true"
            [rowHeight]="35" [headerHeight]="35" [icons]="tourGridService.icons" [gridOptions]="tourGridService.gridOptions"
            (selectionChanged)="onSelectionChanged()" [frameworkComponents]="tourGridService.frameworkComponents" rowSelection="single"
            (gridReady)="onGridReady($event)" [enableRtl]="true">Ù‘
          </ag-grid-angular>
        </div>
      </mat-step>

      <mat-step label="{{'steps'|translate:({value:'second'|translate})}}">

        <form [formGroup]="replacementResultForm.form">

          <!-- <mat-card>
            <div fxLayout="row">
              <mat-form-field fxFlex formGroupName="agency">
                <input matInput placeholder="agency.name" formControlNamme="name" disabled>
              </mat-form-field>

              <mat-form-field fxFlex>
                <input matInput placeholder="tour.price" formControlName="basePrice">
                <mat-hint align="end" translate>price.irFormated</mat-hint>
              </mat-form-field>

              <mat-form-field fxFlex>
                <input matInput placeholder="infantPrice" formControlName="infantPrice">
                <mat-hint align="end" translate>price.irFormated</mat-hint>
              </mat-form-field>
            </div>

            <div fxLayout="row">

              <mat-form-field fxFlex>
                <input matInput placeholder="foodPrice" formControlName="foodPrice">
                <mat-hint align="end" translate>price.irFormated</mat-hint>
              </mat-form-field>

              <mat-form-field fxFlex>
                <input matInput placeholder="busPrice" translate="yes" formControlName="busPrice">
                <mat-hint align="end" translate>price.irFormated</mat-hint>
              </mat-form-field>

              <mat-form-field fxFlex>
                <input matInput placeholder="roomPrice" formControlName="roomPrice">
                <mat-hint align="end" translate>price.irFormated</mat-hint>
              </mat-form-field>
            </div>

          </mat-card> -->
          <div formArrayName="teams" class="teamCard">
            <mat-card *ngFor="let team of replacementResultForm.form.get('teams')['controls'];trackBy: trackByFn;let i=index">
              <div fxLayout="row" [formGroupName]="i">
                <mat-form-field fxFlex>
                  <input matInput placeholder="buyer.name" formControlName="count" disabled>
                </mat-form-field>
                <mat-form-field fxFlex>
                  <input matInput placeholder="tour.price" formControlName="basePrice">
                  <mat-hint align="end" translate>price.irFormated</mat-hint>
                </mat-form-field>
                <mat-form-field fxFlex>
                  <input matInput placeholder="infantPrice" formControlName="infantPrice">
                  <mat-hint align="end" translate>price.irFormated</mat-hint>
                </mat-form-field>
              </div>
            </mat-card>
          </div>
        </form>
        <br>
        <!-- <div fxLayout="row">
          <h3 fxFlex>{{"replacedPassenger"|translate}}</h3>
        </div>
        <div fxLayout="row">
          <mat-form-field fxFlex>
            <mat-chip-list>
              <mat-chip *ngFor="let passenger of selectedPassengers">
                {{passenger.person.name}} {{passenger.person.family}}
              </mat-chip>
            </mat-chip-list>
          </mat-form-field>
        </div> -->
      </mat-step>
    </mat-horizontal-stepper>
  </form>
  <!--width set for IE-->
</div>
<div fxLayout="row" align="end">
  <button class="pull-left" mat-mini-fab color="primary" #nextButton (click)="nextStep(stepper)" [disabled]="true">
    <mat-icon>navigate_before</mat-icon>
  </button>
  <button class="pull-right" mat-mini-fab color="primary" (click)="previousStep(stepper)" [disabled]='stepper.selectedIndex==0'>
    <mat-icon>navigate_next</mat-icon>
  </button>
</div>
<mat-dialog-actions>
  <button fxFlex mat-raised-button color="primary" (click)="save()">{{"save"|translate}}</button>
</mat-dialog-actions>